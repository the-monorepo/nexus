<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
    <style>
      body {
        background: #000000;
      }
      * {
        color: #FFFFFF;
      }
      .test {
        background: #FF00FF;
        width: 3px;
        height: 3px;
        border: #FFFFFF solid 1px;
        display: inline-block;
      }
    </style>
    <script>
      const outerFragment = document.createDocumentFragment();
      for(let i = 0; i < 100; i++) {
        const outerDiv = document.createElement('div');
        const fragment = document.createDocumentFragment();
        for(let j = 0; j < 1000; j++) {
          const innerDiv = document.createElement('div');
          innerDiv.className = 'test';
          fragment.appendChild(innerDiv);
        }
        outerDiv.appendChild(fragment);
        outerFragment.insertBefore(outerDiv, outerFragment.firstChild);
      }
      document.body.appendChild(outerFragment);
      /*
      const outerFragment = document.createDocumentFragment();
      for(let i = 0; i < 100; i++) {
        const outerDiv = document.createElement('div');
        for(let j = 0; j < 1000; j++) {
          const innerDiv = document.createElement('div');
          innerDiv.className = 'test';
          outerDiv.appendChild(innerDiv);
        }
        outerFragment.insertBefore(outerDiv, outerFragment.firstChild);
      }
      document.body.appendChild(outerFragment);*/
    </script>
  </body>
</html>